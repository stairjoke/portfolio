//Foundation
$layout-breakpoint-L: 1100px;
$layout-breakpoint-nav-1: 540px;
$layout-breakpoint-M: 600px;
$layout-breakpoint-nav-2: 413px;
$layout-breakpoint-S: 480px;

:root {
	--line-height-M: 2rem;
	--line-height-S: 1.3rem;
	
	--color-accent-1: RGB(112, 174, 61); //re-mapped to sRGB
	--color-accent-1-hover: RGB(138, 197, 89); //re-mapped to sRGB
	--color-accent-1-hover-fill: RGB(119, 183, 67); //re-mapped to sRGB
	--color-accent-1-darkened-fill: RGB(104, 162, 57); //re-mapped to sRGB
	
	@supports (color: color(display-p3 1 1 1)) {
		--color-accent-1: color(display-p3 0.4392 0.6823 0.2392); //P3
		--color-accent-1-hover: color(display-p3 0.5411 0.7725 0.349); //P3
		--color-accent-1-hover-fill: color(display-p3 0.476 0.735 0.265); //P3
		--color-accent-1-darkened-fill: color(display-p3 0.409 0.636 0.224); //P3
	}
	
	--color-background: #31302e;
	--color-element-background: rgb(58, 57, 54);
	
	--color-text: #cdc6c6;
	--color-text-high-contrast: white;
	--color-shadow: rgba(0,0,0,0.06);
	--color-shadow-strong: rgba(0,0,0,0.27);
	--color-glow: rgba(255,255,255,0.06);
	
	--color-ukraineFlag-top: #005abb;
	--color-ukraineFlag-bottom: #fdd400;
	
	--border-radius-M: 0.5rem;
	
	//Default: 11 columns
	--layout-gutter: 2rem;
	--layout-column: calc((100vw - (12*var(--layout-gutter)))/11);
	
	//Large: 9 columns
	@media (max-width: #{$layout-breakpoint-L}) {
		--layout-column: calc((100vw - (10*var(--layout-gutter)))/9);
	}
	
	//Medium: 3 columns
	@media (max-width: #{$layout-breakpoint-M}) {
		--layout-column: calc((100vw - (4*var(--layout-gutter)))/3);
	}
	
	//Small: 3 columns, reduced gutter
	@media (max-width: #{$layout-breakpoint-S}) {
		--layout-gutter: 1rem;
		--layout-column: calc((100vw - (4*var(--layout-gutter)))/3);
	}
	
	--layout-vertical-margin-XS: 0.6667rem;
	--layout-vertical-margin-S: calc(var(--layout-vertical-margin-XS)*2);
	--layout-vertical-margin-M: calc(var(--layout-vertical-margin-S)*2);
	--layout-vertical-margin-L: calc(var(--layout-vertical-margin-M)*2);
	--layout-vertical-margin-XL: calc(var(--layout-vertical-margin-L)*2);
}
@mixin layout-full-width() {
	margin-left: auto;
	margin-right: auto;
	width: calc(var(--layout-column)*9 + var(--layout-gutter)*8);
	@media (max-width: #{$layout-breakpoint-M}) {
		width: calc(var(--layout-column)*3 + var(--layout-gutter)*2);
	}
}

#layout-viz {
	display: none;
	.column {
		display: none;
	}
}
#layout-viz:target {
	display: block;
	.column {
		display: block;
		background-color: rgba(255,0,0,0.1);
		outline: solid rgba(200,0,0,0.2) 1px;
		position: fixed;
		top: 0;
		bottom: 0;
		width: var(--layout-column);
		pointer-events: none;
		text-align: center;
		color: rgba(255,255,255,.5);
	}
	#c1 {
		left: var(--layout-gutter);
	}
	#c2 {
		left: calc(var(--layout-gutter)*2 + var(--layout-column));
	}
	#c3 {
		left: calc(var(--layout-gutter)*3 + var(--layout-column)*2);
	}
	#c4 {
		left: calc(var(--layout-gutter)*4 + var(--layout-column)*3);
	}
	#c5 {
		left: calc(var(--layout-gutter)*5 + var(--layout-column)*4);
	}
	#c6 {
		left: calc(var(--layout-gutter)*6 + var(--layout-column)*5);
	}
	#c7 {
		left: calc(var(--layout-gutter)*7 + var(--layout-column)*6);
	}
	#c8 {
		left: calc(var(--layout-gutter)*8 + var(--layout-column)*7);
	}
	#c9 {
		left: calc(var(--layout-gutter)*9 + var(--layout-column)*8);
	}
	#c10 {
		left: calc(var(--layout-gutter)*10 + var(--layout-column)*9);
		@media (max-width: #{$layout-breakpoint-L}) {
			display: none;
		}
	}
	#c11 {
		left: calc(var(--layout-gutter)*11 + var(--layout-column)*10);
		@media (max-width: #{$layout-breakpoint-L}) {
			display: none;
		}
	}
}

html {
	font-family: futura-pt,sans-serif;
	font-weight: 400;
	font-style: normal;
	font-size: 1.0625em; //assuming 16px default, this is 17px
	margin: 0;
	padding: 0;
	line-height: var(--line-height-S);
}
body {
	background-color: var(--color-background);
	color: var(--color-text);
	margin: 0;
	padding: 0;
}
header, main, footer {
	width: 100%;
	margin: 0 auto;
}
main {
	margin-top: calc(var(--layout-gutter)*-2 - var(--line-height-M));
	padding-top: calc(var(--layout-gutter)*2 + var(--line-height-M));
	
	.splash {
		margin-top: calc(var(--layout-gutter)*-2 - var(--line-height-M));
		padding-top: calc(var(--layout-gutter)*2 + var(--line-height-M));
	}
	
	section:not(:first-child) {
		margin-top: var(--layout-vertical-margin-XL);
	}
}
